{"id":"bt-17y","title":"Init town","description":"Add 'bordertown town init' command that creates a local town.yml command. For now add just generic metadata for project, will expand on it later","status":"closed","priority":2,"issue_type":"epic","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:28:14.794359+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:35:24.325067+02:00","closed_at":"2026-02-01T15:35:24.325067+02:00","close_reason":"Closed","dependencies":[{"issue_id":"bt-17y","depends_on_id":"bt-20l","type":"blocks","created_at":"2026-02-01T15:29:35.236638+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-20l","title":"Add tests for 'town init' command","description":"Write tests in internal/cli/town_test.go covering: creating new town.yml, handling existing town.yml (error or overwrite flag), validating written YAML structure.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:29:27.513152+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:35:24.303403+02:00","closed_at":"2026-02-01T15:35:24.303403+02:00","close_reason":"Closed","dependencies":[{"issue_id":"bt-20l","depends_on_id":"bt-uko","type":"blocks","created_at":"2026-02-01T15:29:35.146958+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-244","title":"Add tests for mayor review","description":"Create internal/cli/mayor_test.go with tests for: 1) Empty beads directory, 2) Single epic with tasks, 3) Multiple epics, 4) Epics needing planning, 5) Orphan issues. Follow patterns from town_test.go using t.TempDir().","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:45:30.220317+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:53:41.635092+02:00","closed_at":"2026-02-01T15:53:41.635092+02:00","close_reason":"Closed","dependencies":[{"issue_id":"bt-244","depends_on_id":"bt-aam","type":"blocks","created_at":"2026-02-01T15:45:37.726257+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-4h6","title":"Add beads loading package","description":"Create internal/beads/loader.go to load and parse issues from .beads/issues.jsonl. Should return []Issue structs with all fields (id, title, status, priority, issue_type, dependencies, etc). This replaces calling external 'bd' for reading data.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:45:21.619071+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:50:24.039544+02:00","closed_at":"2026-02-01T15:50:24.039544+02:00","close_reason":"Closed"}
{"id":"bt-5wl","title":"Add epic planning analysis","description":"Create internal/beads/analysis.go to determine if epics need more planning. Heuristics: 1) Epic has no child tasks, 2) Epic description is vague/short, 3) All tasks are done but epic is open, 4) Epic has only 1-2 tasks. Return analysis struct with needsPlanning bool and reasons.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:45:26.048645+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:51:49.77007+02:00","closed_at":"2026-02-01T15:51:49.77007+02:00","close_reason":"Closed","dependencies":[{"issue_id":"bt-5wl","depends_on_id":"bt-c6b","type":"blocks","created_at":"2026-02-01T15:45:37.428515+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-aam","title":"Implement 'mayor review' subcommand","description":"Create newMayorReviewCommand() in internal/cli/mayor.go. Uses beads loader, grouping, and analysis. Output: list epics with their issues, show planning status indicators. Use Lipgloss for formatting like status.go does.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:45:28.755123+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:52:57.71203+02:00","closed_at":"2026-02-01T15:52:57.71203+02:00","close_reason":"Closed","dependencies":[{"issue_id":"bt-aam","depends_on_id":"bt-ejp","type":"blocks","created_at":"2026-02-01T15:45:37.519218+02:00","created_by":"Riku Marttila"},{"issue_id":"bt-aam","depends_on_id":"bt-5wl","type":"blocks","created_at":"2026-02-01T15:45:37.619619+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-bjh","title":"Add 'town' subcommand group to CLI","description":"Create the 'town' parent command in internal/cli/town.go. This will be the command group for town-related subcommands (init, etc). Follow existing patterns from root.go.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:29:22.519427+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:34:29.558287+02:00","closed_at":"2026-02-01T15:34:29.558287+02:00","close_reason":"Closed"}
{"id":"bt-bjq","title":"Initial Mayor functionality","description":"Add 'bordertown mayor review' which does a overall look in to available beads, groups them by epic, indicates wether we need to plan epics more","status":"closed","priority":2,"issue_type":"epic","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:43:43.037151+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:54:36.789505+02:00","closed_at":"2026-02-01T15:54:36.789505+02:00","close_reason":"Implemented mayor review command with epic grouping, planning analysis, tests, and documentation","dependencies":[{"issue_id":"bt-bjq","depends_on_id":"bt-244","type":"blocks","created_at":"2026-02-01T15:45:37.827728+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-c6b","title":"Implement epic grouping logic","description":"Create internal/beads/grouping.go to group issues by epic. Logic: 1) Find all epic-type issues, 2) Map tasks/bugs to their parent epic via dependencies or tags, 3) Track orphan issues (no epic). Return map[epicID][]Issue plus orphans list.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:45:24.518818+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:51:09.158037+02:00","closed_at":"2026-02-01T15:51:09.158037+02:00","close_reason":"Closed","dependencies":[{"issue_id":"bt-c6b","depends_on_id":"bt-4h6","type":"blocks","created_at":"2026-02-01T15:45:37.336183+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-cn2","title":"Define town.yml config schema","description":"Create Go structs for the town.yml configuration file in internal/config/town.go.\n\n## Spec: town.yml\n\nA Town is the workspace directory containing projects (rigs), agents, and configuration.\n\n### Schema (v1)\n\n```yaml\n# town.yml - Bordertown workspace configuration\nversion: 1                    # Config schema version\n\n# Core metadata\nname: my-workspace            # Town name (required)\ndescription: \"...\"            # What this workspace is for (optional)\n\n# Workspace settings\nrigs_dir: ./rigs              # Where rig repos live (default: ./rigs)\n\n# Mayor (AI coordinator) settings - placeholder for future\nmayor:\n  model: claude-sonnet        # Default model for mayor\n  \n# Defaults for new rigs/agents - placeholder for future  \ndefaults:\n  agent_model: claude-haiku   # Default model for polecats\n```\n\n### Go Struct\n\n```go\ntype TownConfig struct {\n    Version     int          `yaml:\"version\"`\n    Name        string       `yaml:\"name\"`\n    Description string       `yaml:\"description,omitempty\"`\n    RigsDir     string       `yaml:\"rigs_dir,omitempty\"`\n    Mayor       MayorConfig  `yaml:\"mayor,omitempty\"`\n    Defaults    Defaults     `yaml:\"defaults,omitempty\"`\n}\n\ntype MayorConfig struct {\n    Model string `yaml:\"model,omitempty\"`\n}\n\ntype Defaults struct {\n    AgentModel string `yaml:\"agent_model,omitempty\"`\n}\n```\n\n### Notes\n- Keep minimal for now, expand later\n- Use gopkg.in/yaml.v3 for parsing\n- Default rigs_dir to \"./rigs\" if not specified\n- Version field allows future schema migrations","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:29:24.274126+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:34:29.57914+02:00","closed_at":"2026-02-01T15:34:29.57914+02:00","close_reason":"Closed"}
{"id":"bt-ejp","title":"Add 'mayor' command group scaffold","description":"Create internal/cli/mayor.go with 'mayor' parent command that will hold subcommands like 'review'. Follow the pattern from town.go (newTownCommand). Register it in root.go.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:45:19.95909+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:49:39.853373+02:00","closed_at":"2026-02-01T15:49:39.853373+02:00","close_reason":"Closed"}
{"id":"bt-llc","title":"Document town functionality in docs/TOWN.md","description":"Add comprehensive but easy-to-follow documentation for the town command in docs/TOWN.md. Include: 1) What 'town init' does, 2) town.yml configuration options, 3) Default values and what they mean, 4) Example usage. Keep it practical and user-focused.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:48:33.603249+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:54:07.504405+02:00","closed_at":"2026-02-01T15:54:07.504405+02:00","close_reason":"Closed"}
{"id":"bt-n21","title":"Document mayor functionality in docs/MAYOR.md","description":"Add comprehensive but easy-to-follow documentation for the mayor command in docs/MAYOR.md. Include: 1) What mayor review does, 2) How epic grouping works, 3) What planning indicators mean, 4) Example output. Keep it practical and user-focused.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:48:31.961709+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:54:29.153026+02:00","closed_at":"2026-02-01T15:54:29.153026+02:00","close_reason":"Closed","dependencies":[{"issue_id":"bt-n21","depends_on_id":"bt-aam","type":"blocks","created_at":"2026-02-01T15:48:38.973959+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-uko","title":"Implement 'town init' subcommand","description":"Add the 'init' subcommand under 'town' that creates a town.yml file. Accept --name, --description flags. If no flags provided, use sensible defaults (e.g., directory name for project name). Write YAML to current directory.","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-02-01T15:29:25.96321+02:00","created_by":"Riku Marttila","updated_at":"2026-02-01T15:34:45.23942+02:00","closed_at":"2026-02-01T15:34:45.23942+02:00","close_reason":"Implemented as part of bt-bjh - init subcommand with --name, --description, --force flags","dependencies":[{"issue_id":"bt-uko","depends_on_id":"bt-bjh","type":"blocks","created_at":"2026-02-01T15:29:34.937032+02:00","created_by":"Riku Marttila"},{"issue_id":"bt-uko","depends_on_id":"bt-cn2","type":"blocks","created_at":"2026-02-01T15:29:35.04218+02:00","created_by":"Riku Marttila"}]}
{"id":"bt-w68","title":"Setup basic go cli app structure","description":"- Setup idiomatic structure\n- Use cobra/viber\n- Run with bordertown / bt\n- Add example dummy command to expand on\n- Simple test","status":"closed","priority":2,"issue_type":"task","owner":"riku@goodconsulting.fi","created_at":"2026-01-25T11:32:51.751218+02:00","created_by":"Riku Marttila","updated_at":"2026-01-25T11:49:04.877488+02:00","closed_at":"2026-01-25T11:49:04.877488+02:00","close_reason":"Closed"}
